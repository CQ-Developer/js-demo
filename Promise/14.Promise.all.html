<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>

    <!-- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all -->
    <script>
        // wait until all Promises had been resolved
        let p1 = Promise.all([
            new Promise((resolve, reject) => setTimeout(resolve, 100, 1)),
            new Promise((resolve, reject) => setTimeout(resolve, 200, 2)),
            new Promise((resolve, reject) => setTimeout(resolve, 300, 3))
        ])
        .then((values) => console.log("p1:", values));
        // values have the same order as the Promise's order defined in iterable object
        setTimeout(console.log, 400, "p1:", p1);

        // reject one is reject all
        let p2 = Promise.all([
            new Promise((resolve, reject) => setTimeout(resolve, 100, 1)),
            new Promise((resolve, reject) => setTimeout(resolve, 200, 2)),
            new Promise((resolve, reject) => setTimeout(reject, 300, 3))
        ]);
        setTimeout(console.log, 400, "p2:", p2);

        // first reject is the only reject
        let p3 = Promise.all([
            new Promise((resolve, reject) => setTimeout(reject, 100, 1)),
            new Promise((resolve, reject) => setTimeout(resolve, 200, 2)),
            new Promise((resolve, reject) => setTimeout(reject, 300, 3))
        ]);
        setTimeout(console.log, 400, "p3:", p3);
    </script>
</body>

</html>