<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
    <!-- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any -->
    <script>
        // focus on first resolved
        Promise.any([
            new Promise((resolve, reject) => setTimeout(resolve, 300, 3)),
            new Promise((resolve, reject) => setTimeout(reject, 200, 2)),
            new Promise((resolve, reject) => setTimeout(resolve, 100, 1))
        ])
        .then((v) => console.log("p1:", v));

        // if all rejected, throw AggregateError
        Promise.any([
            new Promise((resolve, reject) => setTimeout(reject, 300, Error(3))),
            new Promise((resolve, reject) => setTimeout(reject, 200, Error(2))),
            new Promise((resolve, reject) => setTimeout(reject, 100, Error(1)))
        ])
        .then((v) => console.log("p2:", v))
        .catch((r) => console.log("p2:", r));
    </script>
</body>

</html>