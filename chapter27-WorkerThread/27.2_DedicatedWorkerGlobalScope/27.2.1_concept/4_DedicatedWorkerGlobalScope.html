<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>

    <!-- 27.2.1 4.DedicatedWorkerGlobalScope

        https://developer.mozilla.org/en-US/docs/Web/API/DedicatedWorkerGlobalScope

        在专用工作者线程内部, 全局作用域是DedicatedWorkerGlobalScope的实例
        因为这继承自WorkerGlobalScope, 所以包含它的所有属性和方法
        工作者线程可以通过self关键字访问该全局作用域

        顶级脚本和工作者线程中的console对象都将写入浏览器控制台, 这对于调试非常有用
        因为工作者线程具有不可忽略的启动延迟, 所以即使Worker对象存在, 工作者线程的日志也会在主线程的日志之后打印出来

        注意
        这里两个独立的JS线程都在向一个console对象发消息, 该对象随后将消息序列化并在浏览器控制台打印出来
        浏览器从两个不同的JS线程收到消息, 并按照自己认为合适的顺序输出这些消息
        为此, 在多线程应用程序中使用日志确定操作顺序时必须要当心

        DedicatedWorkerGlobalScope在WorkerGlobalScope基础上增加了以下属性和方法
        - name: 可以提供给Worker构造函数的一个可选的字符串标识符
        - postMessage(): 与worker.postMessage()对应的方法, 用于从工作者线程内部向父上下文发送消息
        - close(): 与worker.terminate()对应的方法, 用于立即终止工作者线程, 没有为工作者线程提供清理的机会, 脚本会突然停止
        - importScripts(): 用于向工作者线程中导入任意数量的脚本
    -->
    <script>
        const worker = new Worker("./globalScopeWorker.js");
        console.log("created worker:", worker);
    </script>
</body>

</html>