<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>

    <!-- 27.4.5 理解服务工作者线程的生命周期

        https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/installing
    
    1.安装中状态
    
        安装中状态是执行所有服务工作者线程设置任务的状态
        这些任务包括在服务工作者线程控制页面前必须完成的操作

        在客户端, 这个阶段可以通过检查ServiceWorkerRegistration.installing是否被设置为ServiceWorker实例

        如果已有了一个活动的服务工作者线程, 则已安装状态是触发逻辑的好时机, 这样会把这个新服务工作者线程推进到激活中状态
        可以通过self.skipWaiting()强制推进服务工作者线程的状态, 也可以通过提示用户重新加载应用程序, 从而使浏览器可以按部就班地推进
    -->
    <script>
        // 检查installing阶段
        navigator.serviceWorker.register("./serviceWorker.js").then((registration) => {
            if (registration.installing) {
                console.log("Service worker is in the installing state");
            }
        });
    </script>
</body>

</html>