<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>

    <!-- 27.4.11 推送通知

        https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/showNotification
    
    1.显示通知

        ServiceWorker 可以通过它们的注册对象使用 Notification API
        这样做有很多好的理由: 与 ServiceWorker 关联的通知也会触发 ServiceWorker 内部的交互事件

        显示通知要求向用户明确地请求授权
        授权完成后, 可以通过 ServiceWorkerRegistration.showNotification() 显示通知

        获得显示通知的授权后, 会把通知显示在浏览器中
        该通知与使用 new Notification() 创建的通知看不出任何差别
        此外, 显示该通知不需要 ServiceWorker 额外做任何事情
        ServiceWorker 只在需要处理通知事件时才会发挥作用
    -->
    <script>
        navigator.serviceWorker.register("./showNotification.js").then((registration) => {
            Notification.requestPermission().then((status) => {
                if (status === "granted") {
                    registration.showNotification("foo");
                }
            });
        });
    </script>
</body>

</html>