<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
    <form>
        <input name="file" type="file">
        <button id="btn" type="submit">提交</button>
    </form>

    <!-- 24.5.2 - 3.发送文件
    
    因为请求体支持FormData实现, 所以fetch()也可以序列化并发送文件字段中的文件
    并且能支持发送多个文件
    -->
    <script>
        document.getElementById("btn").addEventListener("click", event => {
            let imageInput = document.forms[0];
            let imageFormData = new FormData(imageInput);
            fetch("http://localhost:8080/upload", { method: "POST", body: imageFormData })
                .then(response => response.text())
                .then(data => console.log(data));
        });
    </script>
</body>

</html>