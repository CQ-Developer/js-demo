<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
    <audio id="audio-player" src="video.mpg">无法播放</audio>

    <!-- 20.5.4 检测编解码器
    
    并不是所有浏览器都支持<video>和<audio>的所有编解码器, 这通常意味着必须提供多个媒体源
    为此, 也有 JS API 可以用来检测浏览器是否支持给定格式和编解码器
    
    这两个媒体元素都有一个名为canPlayType()的方法
    该方法接收一个格式/编解码器的字符串
    返回一个字符串值: "probably", "maybe", 空字符串
    
    其中空字符串就是假值, 以为着可以在if语句中使用
    "probably"和"maybe"都是真值, 在if语句的上下文中可以转型为true

    在只给canPlayType()提供一个MIME类型的情况下, 最可能返回的值是"maybe"和空字符串
    这是因为文件实际上只是一个包装音频和视频数据的容器, 而真正决定文件是否可以播放的是编码
    在同时提供MIME类型和编码器的情况下, 返回值的可能性会提高到"probably"
    -->
    <script>
        let audio = document.getElementById("audio-player");

        // 很可能是"maybe"
        if (audio.canPlayType("audio/mpeg")) {
            console.log("可以播放");
        }

        // 可能是"probably"
        // 注意, 编解码器必须放入引号中
        if (audio.canPlayType(`audio/ogg; codecs="vorbis"`)) {
            console.log("可以播放");
        }
    </script>
</body>

</html>