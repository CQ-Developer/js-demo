<!DOCTYPE html>
<html>

<head></head>

<body>
    <p id="p1"><b>Hello</b> world!</p>
    <!-- 16.4.2 简单选择
    
        通过范围选择文档中某个部分最简单的方式就是使用selectNode()和selectNodeContents()方法
        这两个方法都接收一个节点作为参数, 并将该节点的信息添加到调用它的范围
        selectNode()方法选择整个节点, 包含其后代节点
        selectNodeContents()只选择节点的后代

        调用selectNode()时, startContainer, endContainer, commonAncestorContainer都等于传入节点的父节点
        startOffset属性等于传入节点在其父节点childNodes集合中的索引
        endOffset等于startOffset加1, 因为只选择了一个节点

        调用selectNodeContents()时, startContainer, endContainer, commonAncestorContainer属性就是传入的节点
        startOffset属性始终为0, 因为范围从传入节点的第一个子节点开始
        endOffset等于传入节点的子节点属性(node.childNodes.length)

        在选定节点或节点后代之后, 还可以在范围上调用相应的方法, 实现对范围中选区的更精细控制
        - setStartBefore(refNode): 把范围起点设置到refNode之前, 从而让refNode成为选区的第一个子节点
                                   startContainer属性被设置为refNode.parentNode
                                   startOffset属性被设置为refNode在其父节点childNodes集合中的索引
        - setStarterAfter(refNode): 把范围的起点设置到refNode之后, 从而将refNode排除在选区之外, 让其下一个同胞节点成为选区的第一个子节点
                                    startContainer属性被设置为refNode.parentNode
                                    startOffset属性被设置为refNode在其父节点childNodes集合中的索引加1
        - setEndBefore(refNode): 把范围的终点设置到refNode之前, 从而将refNode排除在选区之外, 让其上一个同胞节点成为选区的最后一个子节点
                                 endContainer属性被设置为refNode.parentNode
                                 endOffset属性被设置为refNode在其父节点childNodes结合中的索引
        - setEndAfter(refNode): 把范围的终点设置到refNode之后, 从而让refNode成为选区的最后一个子节点
                                endContainer属性被设置为refNode.parentNode
                                endOffset属性被设置为refNode在其父节点childNodes集合中的索引加1

        调用这些方法时, 所有属性都会自动重新赋值
        不过, 为了实现复杂的选区, 也可以直接修改这些属性的值
    -->
    <script>
        // 访问并创建相应的范围
        let range1 = document.createRange();
        let range2 = document.createRange();
        let p1 = document.getElementById("p1");

        // 包含<p>元素及其所有后代
        range1.selectNode(p1);

        // 包含<b>元素, 文本节点"Hello", 文本节点" world!"
        range2.selectNodeContents(p1);
    </script>
</body>

</html>