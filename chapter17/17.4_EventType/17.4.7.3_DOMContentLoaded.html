<html>

<head></head>

<body>
    <!-- 17.4.7.3 DOMContentLoaded事件
    
        window的load事件会在页面完全加载后触发, 因为要等待很多外部资源加载完成, 所以会花费较长事件
        
        DOMContentLoaded事件会在DOM树构建完成后立即触发, 而不用等待图片, JS文件, CSS文件或其他资源加载完成

        相对于load事件, DOMContentLoaded可以让开发者在外部资源下载的同时就能指定事件处理程序, 从而让用户能够更快地与页面交互

        要处理DOMContentLoaded事件, 需要给document或window添加事件处理程序, 实际的事件目标是document, 但会冒泡到window

        DOMContentLoaded事件的event对象中不包含任何额外信息, 除了target等于document
        DOMContentLoaded事件通常用于添加事件处理程序或执行其他DOM操作
        这个事件始终在load事件之前触发

        对于不支持DOMContentLoaded事件的浏览器, 可以使用超时为0的setTimeout()函数, 通过其回调来设置事件处理程序
        
        setTimeout()这种方式本质上意味着在当前JS进程执行完毕后立即执行这个回调
        页面加载和构建期间, 只有一个JS进程运行
        所以可以在这个进程空间后立即执行回调, 至于是否与同一个浏览器或同一个页面上不同脚本的DOMContentLoaded触发时机一致并无绝对把握
        为了尽可能早一些执行, 以上代码最好是页面上的第一个超时代码
        即使如此, 考虑到各种影响因素, 也不一定保证能在load事件之前执行超时回调
    -->
    <script>
        // 在document上监听DOMContentLoaded事件
        document.addEventListener("DOMContentLoaded", event => console.log("from document: Content loaded"));

        // 通过setTimeout()回调来设置事件处理程序
        setTimeout(() => {
            // 添加事件处理程序
        }, 0);
    </script>
</body>

</html>