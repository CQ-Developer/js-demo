<html>

<head></head>

<body>
    <a href="https://www.baidu.com">点击离开</a>

    <!-- 17.4.7.2 beforeunload事件
    
        beforeunload事件会在window上触发, 用以是给开发者提供组织页面被卸载的机会
        这个事件会在也i面即将从浏览器中卸载时触发, 如果页面需要继续使用, 则可以不被卸载
        这个事件不能取消, 否则就意味着可以把用户永久阻拦在一个页面上
        相反, 这个事件会向用户显示一个确认框, 其中的消息表明浏览器即将卸载页面, 并请用户确认是希望关闭页面, 还是继续留在页面上

        需要将event.returnValue设置为要在确认框中显示的字符串(对IE和Firefox来说)
        并将其作为函数的返回值(对Safari和Chrome来说)
    -->
    <script>
        window.addEventListener("beforeunload", event => {
            let msg = "I'm really going to miss you if you go.";
            event.returnValue = msg;
            return msg;
        });
    </script>
</body>

</html>