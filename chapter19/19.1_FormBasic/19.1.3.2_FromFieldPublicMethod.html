<html>

<head></head>

<body>
    <form>
        <input type="text" autofocus />
        <input type="text" />

    </form>
    <!-- 19.1.3.2 表单字段的公共方法
    
    每个表单字段都有2个公共方法: focus(), blur()

    focus()方法把浏览器焦点设置到表单字段, 使其变成活动字段并可以响应键盘事件
    在页面加载后把焦点定位到表单中第一个字段就是很常见的做法
    实现方法是监听load事件, 然后在第一个字段上调用focus()

    如果表单中第一个字段是type为"hidden"的<input>元素, 或该字段被CSS属性display或visibility隐藏了, 代码会报错
    HTML5为表单字段增加了autofocus属性, 支持的浏览器会自动为带有该属性的元素设置焦点
    autofocus是布尔值属性, 在支持的浏览器中通过JS访问会返回true, 不支持的浏览器中是空字符串
    在判断该属性时许哟啊保持向前兼容性

    注意, 默认情况下只能给表单元素设置焦点
    不过, 通过将tabIndex属性设置为-1再调用focus(), 也可以给任意元素设置焦点, 只有Opera不支持这个技术

    blur()是focus()的反向操作, 用于从元素上移除焦点
    调用blur()时, 焦点不会移动到任何特定元素, 仅仅只是从调用这个方法的元素上移除
    在浏览器支持readOnly属性之前, 通常会使用这个方法创建只读字段
    -->
    <script>
        // 设置焦点
        window.addEventListener("load", event => {
            let element = document.forms[0].elements[0];
            // 先检查是否标注了autofocus
            if (element.autofocus !== true) {
                element.focus();
                console.log("JS focus");
            }
            
            // 使用blur()方法模拟只读
            let element1 = document.forms[0].elements[1];
            element1.addEventListener("focus", event => event.target.blur());
        });
    </script>
</body>

</html>