<html>

<head></head>

<body>
    <!-- 19.2.1.2 取得选中文本
    
    HTML5给文本框扩展了2个属性: selectionStart, selectionEnd
    分别表示文本选区的起点和终点

    这个扩展在IE9+, Firefox, Safari, Chrome, Opera中都可以使用
    IE8及更早版本不支持这两个属性

    老版本IE中有一个包含整个文档中文本选择信息的document.selection对象
    这意味着无法确定选中的文本在页面中什么位置
    不过与select事件一起使用时, 可以确定是在触发事件的文本中选中的文本
    -->
    <script>
        // 取得文本框中选中的文本
        function getSelectedText(textbox) {
            return textbox.value.substring(textbox.selectionStart, textbox.selectionEnd);
        }

        // 老版本IE
        function getSelectedTextFromIE(textbox) {
            if (typeof textbox.selectionStart == "number") {
                return textbox.value.substring(textbox.selectionStart, textbox.selectionEnd);
            } else if (document.selection) {
                return document.selection.createRange().text;
            }
        }
    </script>
</body>

</html>