<html>

<head></head>

<body>
    <input id="textbox1" type="text">
    
    <!-- 19.2.2.1 屏蔽字符
    
    有些输入框需要出现或不出现特定字符
    
    例如, 用于输入手机号的文本框不应该出现非数字字符
    可以通过阻止keypress事件的默认行为来屏蔽非数字字符

    有些浏览器在按下非字符键时也会触发keypress事件
    Firefox和Safari3.1之前会在按: 上下箭头键, 退格键, 删除键时触发keypress事件
    
    Firefox中所有触发keypress事件的非字符键的charCode都是0
    Safari3.1之前这些键的charCode都是8
    综合考虑这些情况, 不能屏蔽charCode小于10的键

    还有一个问题: 复制, 粘贴及涉及Ctrl键的其他功能
    因此, 要确保没有按下Ctrl键
    -->
    <script>
        // 只允许输入数字
        document.getElementById("textbox1").addEventListener("keypress", event => {
            let charCode = event.charCode;
            if (!/\d/.test(String.fromCharCode(charCode)) && charCode > 9 && !event.ctrlKey) {
                event.preventDefault();
            }
        });
    </script>
</body>

</html>