<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
    <form>
        <select name="location" id="slLocation">
            <option value="Synnyvale, CA">Sunnyvale</option>
            <option value="Los Angeles, CA">Los Angeles</option>
            <option value="Mountain View, CA">Mountain View</option>
            <option value="">China</option>
            <option>Australia</option>
        </select>
    </form>

    <!-- 19.3.2 添加选项
    
    可以通过JS动态创建选项并将它们添加到选择框
    1.通过DOM方式添加
    2.通过Option构造函数方式, https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement/Option
    3.通过选择框的add()方法, https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/add
    
    Option构造函数在DOM出现之前就已经得到浏览器支持
    Option构造函数接收2个参数: text, value(可选)
    这个构造函数通常会创建Object实例, 但DOM合规的浏览器都会返回一个<option>元素

    Option构造函数的方式在IE8及更低版本存在问题
    IE8及更低版本在这种情况下不能正确设置新选项的文本

    另一种添加新选项的方式是使用选择框的add()方法
    接收2个参数: 要添加的新选项, 要添加到其前面的参考选项
    如果想在列表末尾添加选项, 那么第二个参数应该是null
    
    IE8及更早版本对add()方法的实现稍有不同, 第二个参数是可选的, 并且必须是一个索引值, 表示要在其前面添加新选项
    DOM合规的浏览器要求必须传入第二个参数, 因此在跨浏览器方法中不能只使用一个参数
    此时传入undefined作为第二个参数可以保证在所有浏览器中都将选项添加到列表末尾

    如果不想再最后插入新选项, 则应该使用DOM技术和insertBefore()
    -->
    <script>
        let selectbox = document.forms[0].elements["location"];
        
        // 通过DOM动态添加选项
        let newOptionA = document.createElement("option");
        newOptionA.appendChild(document.createTextNode("OptionA text"));
        newOptionA.setAttribute("value", "OptionA value");
        selectbox.appendChild(newOptionA);

        // 通过Option构造函数
        let newOptionB = new Option("OptionB text", "OptionB value");
        selectbox.appendChild(newOptionB);

        // 通过add()方法
        let newOptionC = new Option("OptionC text", "OptionC value")
        selectbox.add(newOptionC, undefined);
    </script>
</body>

</html>