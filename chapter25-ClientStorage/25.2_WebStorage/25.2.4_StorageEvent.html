<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>

    <!-- 25.2.4 存储事件
        https://developer.mozilla.org/en-US/docs/Web/API/StorageEvent

        每当Storage对象发生变化时, 都会在文档上触发storage事件
        使用属性或setItem()设置值, 使用delete或removeItem()删除值, 一次每次调用clear()时都会触发这个事件
        
        这个事件对象有如下4个属性
        - domain: 存储变化对应的域
        - key: 被设置或删除的键
        - newValue: 键被设置的新值, 若键被删除则为null
        - oldValue: 键变化之前的值

        对于sessionStorage和localStorage上的任何更改都会触发storage事件
        但storage事件不会区分这两者
    -->
    <script>
        window.addEventListener("storage", event => console.log(`Storage changed for ${event.domain}`));
    </script>
</body>

</html>